(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.canvastext = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var canvastext,fontHeight;fontHeight=require("./fontHeight"),canvastext=function(e){return function(){var n,r,t,a,c,i,l,h,o,s,u,f,g,d;return n=e.canvas,r=e.canvas.getContext("2d"),a={x:e.x,y:e.y,w:e.width,h:e.height},t={line:0,character:0},o=[""],h=fontHeight("font: "+r.font),d=function(){var e,n;return e=!0,n=Date.now(),function(){var c,i,l,s,u,f;for(r.clearRect(a.x,a.y,a.w,a.h),l=s=0,u=o.length;u>s;l=++s)f=o[l],r.fillText(f,a.x,a.y+(l+1)*h);return e&&(c=a.x+r.measureText(o[t.line].substr(0,t.character)).width,i=a.y+t.line*h,r.beginPath(),r.moveTo(c,i),r.lineTo(c,i+h),r.stroke()),Date.now()-n>=450?(e=!e,n=Date.now()):void 0}}(),setInterval(d,500),i=function(e){return o[t.line]=o[t.line].slice(0,t.character)+e+o[t.line].substr(t.character),t.character++,d()},g=function(){var e,n,r,a;if(t.character>0)return t.character--,o[t.line]=o[t.line].slice(0,t.character)+o[t.line].substr(t.character+1),d();if(t.line>0){for(t.line--,t.character=o[t.line].length,o[t.line]+=o[t.line+1],e=n=r=t.line+1,a=o.length-1;a>=r?a>n:n>a;e=a>=r?++n:--n)o[e]=o[e+1];return o.pop(),d()}},c=function(){var e,n,r,a;if(t.character<o[t.line].length)return o[t.line]=o[t.line].slice(0,t.character)+o[t.line].substr(t.character+1),d();if(t.line<o.length-1){for(o[t.line]+=o[t.line+1],e=n=r=t.line+1,a=o.length-1;a>=r?a>n:n>a;e=a>=r?++n:--n)o[e]=o[e+1];return o.pop(),d()}},l=function(){return t.line++,o.splice(t.line,0,o[t.line-1].substr(t.character)),o[t.line-1]=o[t.line-1].slice(0,t.character),t.character=0,d()},f=function(e){return i(String.fromCharCode(e.keyCode||e.which))},s=function(e){switch(e){case"up":t.line>0&&(t.line--,t.character=Math.min(o[t.line].length,t.character));break;case"down":t.line<o.length-1?(t.line++,t.character=Math.min(o[t.line].length,t.character)):t.character=o[t.line].length;break;case"left":t.character>0?t.character--:t.line>0&&(t.line--,t.character=o[t.line].length);break;case"right":t.character<o[t.line].length?t.character++:t.line<o.length-1&&(t.line++,t.character=0)}return d()},u=function(e){var n;switch(n=e.keyCode||e.which,console.log(n),n){case 8:g();break;case 13:l();break;case 37:s("left");break;case 38:s("up");break;case 39:s("right");break;case 40:s("down");break;case 46:c();break;default:return}return e.preventDefault()},document.addEventListener("keypress",f),document.addEventListener("keydown",u)}()},module.exports={field:function(e){return canvastext(e)}};

},{"./fontHeight":2}],2:[function(require,module,exports){
module.exports=function(e){var t,o,d,n;return t=document.getElementsByTagName("body")[0],o=document.createElement("div"),d=document.createTextNode("M"),o.appendChild(d),o.setAttribute("style",e),t.appendChild(o),n=o.offsetHeight,t.removeChild(o),console.log(n),n};

},{}]},{},[1])(1)
});